---
layout: post
title: 'Fun with FreeBSD: Your First Linux Guest'
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- FreeBSD Virtualization
tags:
- freebsd
- zfs
- virtualization
- linux
meta:
author:
  login: nightmarebeforedevops
  email: kbcontactxyz@gmail.com
  display_name: karenb
  first_name: Karen
  last_name: Bruner
date: 2022-08-27 18:06
permalink: /2022/08/27/fun-with-freebsd-first-linux-guest/
excerpt: Getting up and running with CBSD on FreeBSD
thumbnail: 
---

[_See all posts in this series_](/freebsd-virtualization-series/)

## Requirements

### Audience

This tutorial assumes you have basic FreeBSD or Linux command-line or system
administration skills and have gone through the process of
[installing FreeBSD](https://docs.freebsd.org/en/books/handbook/bsdinstall/).

### Host (FreeBSD Hypervisor) Requirements

   * CPUs must support FreeBSD bhyve virtualization (see [the FreeBSD Handbook page on bhyve](https://www.freebsd.org/doc/handbook/virtualization-host-bhyve.html) for compatible CPUs)
   * FreeBSD: At least 13.0-CURRENT. Others may work.
   * File system for VM storage: [ZFS](https://docs.freebsd.org/en/books/handbook/zfs/)
      * If you don't want to install root on ZFS, that's fine. You can use
        a ZFS pool on another disk or disk partition.
      * I installed 13.1-RELEASE as ZFS-on-root and let the installer
        use its default partitions. Previous FreeBSD installers may require
	[additional ZFS configuration](/2020/10/25/adventures-in-freebernetes-installing-freebsd/#xfs-on-root)

## FreeBSD Tips for Linux People

### Software installation

FreeBSD has a very mature and reliable software package management system and
a library of third-party packages similar to most Linux distributions.

You can [install pre-compiled binary packages using
`pkg`](https://docs.freebsd.org/en/books/handbook/ports/#pkgng-intro) or you
can compile from source code using the [`ports`
collection](https://docs.freebsd.org/en/books/handbook/ports/#ports-using).

I generally compile from `ports`, which allows custom compile-time options and
can sometimes be more up-to-date, but `pkg` should be fine and definitely much
faster.

### Tools

   * Your favorite Linux command-line tools like `grep`, `sed`, `awk, and
     `find` are all here but they sometimes behave a little differently than
     on GNU/Linux.
   * If you absolutely need the GNU versions, you can usually install them via
     packages or ports, with the letter `g` prefixed to the name (`ggrep`,
     `gsed`, etc.)




## Setup your system for VMs

### [ZFS](https://docs.freebsd.org/en/books/handbook/zfs/)

These instructions assume you have a ZFS pool of reasonable size and it's
named `zpool`. "Reasonable size" depends on how many VMs you want to create,
but let's assume a bare minimum of 10-20Gb per VM.


### Required Tools 

You will need to install the following tools from the
[FreeBSD ports collection](https://docs.freebsd.org/en/books/handbook/ports/).
I've installed from `ports`, which require compilation, but you can use `pkg`
for pre-compiled binaries.

_Tip: If you do choose to compile via `ports`, the first package you install
(probably `git`) will need to compile a number of dependency ports. To avoid
many interactive option menus, you can pass the argument `BATCH=1` to the
`make install` command to use the default options for each port._


